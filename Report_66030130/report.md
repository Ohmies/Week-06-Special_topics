# Lab6.1

![Image](/Pic/Pic_lab1.png)

## Docker vs Native Setup: อธิบายข้อดีของการใช้ Docker เปรียบเทียบกับการติดตั้ง ESP-IDF บน host system

### Docker ช่วยให้สภาพแวดล้อมการพัฒนาสม่ำเสมอและตั้งค่าง่ายกว่า

## Build Process: อธิบายขั้นตอนการ build ของ ESP-IDF ใน Docker container ตั้งแต่ source code จนได้ binary

### เริ่มจากรันคำสั่ง idf.py build ใน Docker container ซึ่งจะใช้ CMake อ่านไฟล์โปรเจกต์ คอมไพล์โค้ด แล้วรวมเป็นไฟล์ binary ที่พร้อมแฟลช

## CMake Files: บทบาทของไฟล์ CMakeLists.txt แต่ละไฟล์คืออะไร และทำงานอย่างไรใน Docker environment?

### ไฟล์ CMakeLists.txt หลักจะกำหนดค่าโปรเจกต์ ส่วนไฟล์ในโฟลเดอร์ Component จะบอกว่ามี Source Code อะไรบ้าง และทั้งคู่ก็ทำงานเหมือนเดิมใน Docker

## Git Ignore: ไฟล์ .gitignore มีความสำคัญอย่างไรสำหรับ ESP32 project development?

### ไฟล์นี้มีความสำคัญในการบอก Git ให้มองข้ามไฟล์ที่ไม่จำเป็น เช่น โฟลเดอร์ build หรือไฟล์ config

## Container Persistence: ข้อมูลใดบ้างที่จะหายไปเมื่อ restart container และข้อมูลใดที่จะอยู่ต่อ?

### ข้อมูลที่สร้างขึ้นภายใน Container จะหายไปเมื่อ restart

## Development Workflow: เปรียบเทียบ workflow การพัฒนาระหว่างการใช้ Docker กับการทำงานบน native system

### Docker Workflow เน้นความสม่ำเสมอและง่ายต่อการตั้งค่าในทีม ส่วน Native Workflow เน้นความเร็วสูงสุดและเหมาะกับการทำงานคนเดียว

# Lab6.2

## Multiple Source Files: เหตุใดต้องแยก source code เป็นหลายไฟล์?

### การแยก source code ช่วยให้โค้ดมีระเบียบและจัดการง่ายขึ้น

## CMakeLists.txt Management: การเพิ่มไฟล์ source ใหม่ต้องแก้ไขอะไรบ้าง?

### เมื่อเพิ่มไฟล์ source ใหม่ ต้องเพิ่มชื่อไฟล์เข้าไปในตัวแปร COMPONENT_SRCS ในไฟล์ CMakeLists.txt

## Header Files: บทบาทของไฟล์ .h คืออะไร และทำไมต้องมี?

### ไฟล์ .h ใช้สำหรับประกาศฟังก์ชันและตัวแปรเพื่อเป็น "สัญญาระหว่างไฟล์" ทำให้โค้ดเป็นระเบียบและง่ายต่อการใช้งานร่วมกัน

## Include Directories: เหตุใด CMakeLists.txt ต้องระบุ INCLUDE_DIRS?

### ต้องระบุ INCLUDE_DIRS เพื่อบอก CMake ว่าไฟล์ Header ที่ต้องใช้ค้นหาอยู่ที่โฟลเดอร์ไหนบ้าง

## Git Ignore: ไฟล์ .gitignore ช่วยอะไรในการจัดการ ESP32 project?

### .gitignore ช่วยให้ Git มองข้ามไฟล์ที่ไม่จำเป็น

## Task Management: การใช้ FreeRTOS task ในโมดูล LED ช่วยอะไร?

### FreeRTOS task ช่วยให้โมดูล LED ทำงานแบบ Multitasking ได้อิสระจากส่วนอื่นๆ ทำให้โค้ดตอบสนองได้ดีขึ้น

## Code Organization: ข้อดีของการแยกโมดูล sensor, display, led เป็นไฟล์แยกคืออะไร?

### ข้อดีของการแยกโมดูลคือทำให้โค้ดเป็นระเบียบ นำกลับมาใช้ซ้ำได้ และง่ายต่อการบำรุงรักษา

# บันทึกผลการทดลอง

## ขั้นตอนที่ 1 (เฉพาะ sensor.c):

### จำนวนไฟล์ source:  1
### ขนาด binary: 196,448 bytes
### การทำงาน: โปรแกรมจะเริ่มต้นการทำงาน, อ่านค่าจากเซ็นเซอร์ และแสดงค่าข้อมูล Sensor data บนหน้าจอ Serial monitor ทุกๆ 2 วินาที

## ขั้นตอนที่ 2 (เพิ่ม display.c):

### จำนวนไฟล์ source: 2
### ขนาด binary: 208,608 bytes
### การทำงาน: โปรแกรมจะอ่านค่าจากเซ็นเซอร์ทุก 2 วินาทีเหมือนเดิม แต่เพิ่มส่วนของการแสดงค่าข้อมูลบนจอ LCD เข้ามาด้วยครับ โดยจะแสดงข้อมูล sensor data, ไฟล์ และบรรทัดของโค้ดที่เรียกใช้งานฟังก์ชัน display

## ขั้นตอนที่ 3 (เพิ่ม led.c):

### จำนวนไฟล์ source: 3
### ขนาด binary: 215,808 bytes
### การทำงาน: โปรแกรมจะอ่านค่าเซ็นเซอร์และแสดงข้อมูลบนจอ LCD เหมือนเดิม แต่เพิ่มการทำงานของ LED เข้ามาด้วย โดย LED จะกะพริบทุกๆ 0.5 วินาทีตลอด

## สังเกต:

### การเพิ่มไฟล์ source code เข้าไปในโปรเจกต์จะทำให้ ขนาดของไฟล์ binary เพิ่มขึ้น เสมอ เพราะแต่ละไฟล์ที่เพิ่มเข้ามามีโค้ดที่ต้องคอมไพล์
### LED จะกะพริบทุก 0.5 วินาที
### แต่ละโมดูลจะใช้ Macro ของ C เช่น __FILE__ และ __LINE__ เพื่อดึงชื่อไฟล์และบรรทัดปัจจุบันของโค้ดมาแสดงผลบนจอ LCD